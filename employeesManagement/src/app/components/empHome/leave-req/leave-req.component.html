<div class="card shadow-sm">

  <!-- Header -->
  <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
    <h5 class="mb-0 w-100 text-center">Request Leave / Permission</h5>
    <button type="button" class="btn-close btn-close-white ms-auto" (click)="close()"></button>
  </div>

  <!-- Form -->
  <form [formGroup]="reqForm" (ngSubmit)="send()" class="p-4">

    <!-- Employee Name -->
    <div class="mb-3" hidden>
      <label class="form-label fw-semibold">Employee Name</label>
      <input type="text" class="form-control" formControlName="EmployeeName" readonly>
    </div>

    <input type="hidden" formControlName="EmployeeId">

    <!-- Request Type -->
    <div class="mb-3">
      <label class="form-label fw-semibold">Request Type</label>
      <select class="form-select" formControlName="VacationId"  required="required">
        <option [ngValue]="null" disabled selected>Select type of leave</option>
        <option *ngFor="let vac of vacationList" [ngValue]="vac.Id">
          {{ vac.Name }}
        </option>
      </select>
    </div>

    <!-- Radio Buttons -->
    <div class="mb-4 text-center">
      <div class="btn-group" role="group">

        <!-- Exit -->
        <input
          type="radio"
          class="btn-check"
          name="leaveType"
          id="btnexit"
          [value]="false"
          formControlName="IsLeave">
        <label class="btn btn-outline-primary" for="btnexit">Exit</label>

        <!-- Leave -->
        <input
          type="radio"
          class="btn-check"
          name="leaveType"
          id="btnleave"
          [value]="true"
          formControlName="IsLeave">
        <label class="btn btn-outline-primary" for="btnleave">Leave</label>

      </div>
    </div>

    <!-- Permission Fields -->
    <div class="row g-3" *ngIf="!reqForm.value.IsLeave; else leaveTemplate">

      <div class="col-md-6">
        <label class="form-label fw-semibold">From Time</label>
        <input type="time" class="form-control" formControlName="FromTime">
      </div>

      <div class="col-md-6">
        <label class="form-label fw-semibold">To Time</label>
        <input type="time" class="form-control" formControlName="ToTime">
      </div>

      <div class="col-md-6">
        <label class="form-label fw-semibold">Start Date</label>
        <input type="date" class="form-control"  formControlName="StartDate">
      </div>

    </div>

    <!-- Leave Fields -->
    <ng-template #leaveTemplate>
      <div class="row g-3">

        <div class="col-md-6">
          <label class="form-label fw-semibold">Start Date</label>
          <input type="date" class="form-control" formControlName="StartDate">
        </div>

        <div class="col-md-6">
          <label class="form-label fw-semibold">End Date</label>
          <input type="date" class="form-control" formControlName="EndDate">
        </div>

      </div>
    </ng-template>

    <!-- Reason -->
    <div class="mb-3 mt-3">
      <label class="form-label fw-semibold">Reason</label>
      <textarea class="form-control" formControlName="Reason" rows="3"></textarea>
    </div>

    <!-- Buttons -->
    <div class="d-flex justify-content-end mt-4">
      <button type="button" class="btn btn-outline-danger me-2" (click)="close()">Cancel</button>
      <button type="submit" class="btn btn-primary" [disabled]="reqForm.invalid">Submit Request</button>
    </div>

  </form>

</div>
