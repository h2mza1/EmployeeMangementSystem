<div class="container py-4" *ngIf="user">
  <div class="d-flex justify-content-around">
 <!-- زر طلب الإجازة / المغادرة -->
  <div class="text-center mb-4">
    <button (click)="submitRequest()"
      class="btn btn-success btn-lg shadow-lg rounded-pill d-flex align-items-center justify-content-center mx-auto px-5 py-3"
    >
      <i class="bi bi-airplane-engines-fill me-2 fs-4"></i>
      <span class="fw-semibold fs-5">Request Leave / Exit</span>
    </button>
  </div>
    <div class="text-center mb-4">
    <button (click)="submitRequest()"
      class="btn btn-success btn-lg shadow-lg rounded-pill d-flex align-items-center justify-content-center mx-auto px-5 py-3"
    >
      <i class="bi bi-airplane-engines-fill me-2 fs-4"></i>
      <span class="fw-semibold fs-5">Request Leave / Exit</span>
    </button>
  </div>
  </div>

  <div class="text-center mb-4">
    <p class="text-muted fs-5">Welcome, <span class="fw-semibold">{{ user.Name || 'Employee' }}</span></p>
  </div>

  <div class="card shadow-lg border-0 rounded-4 mb-4">
    <div class="card-header bg-primary text-white text-center fw-semibold rounded-top-4">
      Personal & Job Information
    </div>
    <div class="card-body">
      <div class="row text-center g-4">

        <div class="col-6 col-md-4">
          <h6 class="text-muted"><i class="bi bi-building me-1"></i>Department</h6>
          <span class="badge bg-success fs-6 px-3 py-2">{{ user.DeptName }}</span>
        </div>

        <div class="col-6 col-md-4">
          <h6 class="text-muted"><i class="bi bi-person-badge me-1"></i>Role</h6>
          <span class="badge bg-info fs-6 px-3 py-2">{{ user.RoleName }}</span>
        </div>

        <div class="col-6 col-md-4">
          <h6 class="text-muted"><i class="bi bi-clock me-1"></i>Clock Hours</h6>
          <span class="badge bg-secondary fs-6 px-3 py-2">8</span>
        </div>

      </div>

      <hr class="my-4">

      <div class="row text-center g-4">

        <div class="col-6 col-md-3">
          <h6 class="text-muted"><i class="bi bi-envelope me-1"></i>Email</h6>
          <span class="badge bg-light text-dark fs-6 px-3 py-2">{{ user.Email }}</span>
        </div>

        <div class="col-6 col-md-3">
          <h6 class="text-muted"><i class="bi bi-calendar-check me-1"></i>Join Date</h6>
          <span class="badge bg-light text-dark fs-6 px-3 py-2">{{ user.StartDate | date:'mediumDate' }}</span>
        </div>

        <div class="col-6 col-md-3">
          <h6 class="text-muted"><i class="bi bi-calendar-x me-1"></i>End Date</h6>
          <span class="badge bg-light text-dark fs-6 px-3 py-2">{{ user.EndDate | date:'mediumDate' }}</span>
        </div>

        <div class="col-6 col-md-3">
          <h6 class="text-muted"><i class="bi bi-patch-check me-1"></i>Status</h6>
          <span class="badge bg-success fs-6 px-3 py-2">Active</span>
        </div>

      </div>
    </div>
  </div>

 

  <div class="row g-3 justify-content-around">

    <div class="col-6 col-md-4">
      <div class="card shadow-sm border-0 rounded-4 text-center p-3">
        <h6 class="text-muted"><i class="bi bi-check-circle me-1"></i>Present Days</h6>
        <span class="badge bg-primary fs-6 px-3 py-2">{{ presentDayCount  }}</span>
      </div>
    </div>

    <div class="col-6 col-md-4">
      <div class="card shadow-sm border-0 rounded-4 text-center p-3">
        <h6 class="text-muted"><i class="bi bi-x-circle me-1"></i>Absent Days</h6>
        <span class="badge bg-danger fs-6 px-3 py-2">{{ absentDayCount }}</span>
      </div>
    </div>



  </div>
</div>

<div class="text-center mt-5" *ngIf="!user">
  <div class="spinner-border text-primary" role="status">
    <span class="visually-hidden">Loading...</span>
  </div>
</div>
